import Lingallery from"lingallery";Vue.component("lingallery",Lingallery),Vue.component("sidebar-component",require("./components/sidebarComponent.vue").default),Vue.component("rating-component",require("./components/RatingComponent.vue").default),Vue.component("status-component",require("./components/StatusComponent.vue").default),Vue.component("attributes-component",require("./components/AttributeComponent.vue").default),Vue.component("relate-product-component",require("./components/RelateProductComponent.vue").default),Vue.component("recommend-product-component",require("./components/RecommendComponent.vue").default),Vue.component("recently-product-component",require("./components/RecentlyProductComponent.vue").default);const detail=new Vue({el:"#detail",data:()=>({products:[],type:"",description:"",rating:0,fullname:"",phone:"",email:"",content:"",email_reg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,phone_reg:/^((09|03|07|08|05)+([0-9]{8})\b)$/,reload:0,items:[]}),methods:{addToCart:function(e,t,n,o){let r=document.querySelector("input[name=color]:checked");if(null==r)return void this.$toast.error({title:"Lỗi",message:"Bạn chưa chọn màu"});let u=document.querySelector("input[name=size]:checked");null!=u?(this.products=[],this.products.push({id:e,name:t,price:n,image:o,color:r.value,size:u.value}),this.storeInCart()):this.$toast.error({title:"Lỗi",message:"Bạn chưa chọn size"})},buyNow:function(e,t,n,o){this.type="buyNow",this.addToCart(e,t,n,o)},storeInCart:function(){axios.post(url+"/api/cart",{body:this.products}).then(e=>{this.$toast.success({title:"Thông báo",message:"Sản phẩm đã được thêm vào giỏ hàng"}),document.querySelector(".cart_number").innerHTML='<span class="badge badge-danger" style="background: #fdd922;color: #666;">'+e.data.length+"</span>","buyNow"===this.type&&(window.location.href=url+"/thanh-toan.html")})}}});
